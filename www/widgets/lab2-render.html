<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="widget.css" />

<figure id="widget">
  <canvas id="canvas" width="352" height="160"></canvas>
  <form id="controls">
    <fieldset id="step-controls">
      <h1>Character-by-character Rendering</h1>
      <button class="reset left" disabled>Restart</button>
      <button class="stepb left" disabled>Back</button>
      <button class="stepf right">Next</button>
      <button class="play right">Animate</button>
    </fieldset>
    <fieldset id="input-controls">
      <textarea id="input" rows="4">第一回 灵根育孕源流出 心性修持大道生</textarea>
    </fieldset>
  </div>
</figure>

<script src="lab2.js"></script>
<script src="rt.js"></script>
<script>
const socket = lib.socket({ "http://input/": http_textarea(document.querySelector("#input")) });
const ssl = lib.ssl();
const tkinter = lib.tkinter({ canvas: document.querySelector("#canvas"), zoom: 2.0 });

let widget = new Widget(document.querySelector("#widget"));
widget.pause("render");
widget.run(async function() {
    WIDTH = 16 * 11;
    HEIGHT = 20 * 4;
    HSTEP = 16;
    VSTEP = 20;

    let b = await (new Browser()).init();
    await b.load("http://input/")
});
</script>
